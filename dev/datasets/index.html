<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Datasets · Fairness</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Fairness</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../fairtensor/">FairTensor</a></li><li><a class="tocitem" href="../measures/">Measures</a></li><li><a class="tocitem" href="../algorithms/">Fairness Algortihms</a></li><li class="is-active"><a class="tocitem" href>Datasets</a><ul class="internal"><li><a class="tocitem" href="#Synthetic-Datasets"><span>Synthetic Datasets</span></a></li><li><a class="tocitem" href="#Inspecting-Datasets"><span>Inspecting Datasets</span></a></li><li><a class="tocitem" href="#Toy-Data"><span>Toy Data</span></a></li><li><a class="tocitem" href="#Other-Datasets"><span>Other Datasets</span></a></li><li><a class="tocitem" href="#Helper-Functions"><span>Helper Functions</span></a></li></ul></li><li><a class="tocitem" href="../benchmark/">Benchmark</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Datasets</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Datasets</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ashryaagr/Fairness.jl/blob/master/docs/src/datasets.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Fairness-Datasets"><a class="docs-heading-anchor" href="#Fairness-Datasets">Fairness Datasets</a><a id="Fairness-Datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Fairness-Datasets" title="Permalink"></a></h1><p>To make it easy to try algorithms and metrics on various datasets, Fairness.jl provides you with the popular fairness datasets.</p><p>These datasets can be easily accesses using macros.</p><h3 id="COMPAS-Dataset"><a class="docs-heading-anchor" href="#COMPAS-Dataset">COMPAS Dataset</a><a id="COMPAS-Dataset-1"></a><a class="docs-heading-anchor-permalink" href="#COMPAS-Dataset" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_compas" href="#Fairness.@load_compas"><code>Fairness.@load_compas</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Macro to load <a href="https://github.com/propublica/compas-analysis/blob/master/Compas%20Analysis.ipynb">COMPAS dataset</a> It is a reduced version of COMPAS Datset with 8 features and 6907 rows. The protected attributes are sex and race. The available features are used to predict whether a criminal defendant will recidivate(reoffend).</p><p>Returns (X, y)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL57-L63">source</a></section></article><pre><code class="language-julia-repl">julia&gt; using Fairness

julia&gt; X, y = @load_compas;</code></pre><h3 id="Adult-Dataset"><a class="docs-heading-anchor" href="#Adult-Dataset">Adult Dataset</a><a id="Adult-Dataset-1"></a><a class="docs-heading-anchor-permalink" href="#Adult-Dataset" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_adult" href="#Fairness.@load_adult"><code>Fairness.@load_adult</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Macro to Load the <a href="https://archive.ics.uci.edu/ml/datasets/adult">Adult dataset</a> It has 14 features and 32561 rows. The protected attributes are race and sex. This dataset is used to predict whether income exceeds 50K dollars per year.</p><p>Returns (X, y)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL85-L91">source</a></section></article><h3 id="German-Credit-Dataset"><a class="docs-heading-anchor" href="#German-Credit-Dataset">German Credit Dataset</a><a id="German-Credit-Dataset-1"></a><a class="docs-heading-anchor-permalink" href="#German-Credit-Dataset" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_german" href="#Fairness.@load_german"><code>Fairness.@load_german</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Load the full version of <a href="https://archive.ics.uci.edu/ml/datasets/Statlog+%28German+Credit+Data%29">German credit dataset</a>. This dataset has 20 features and 1000 rows. The protected attributes are gender_status and age (&gt;25 is priviledged) Using the 20 features, it classifies the credit decision to a person as good or bad credit risks.</p><p>Returns (X, y)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL119-L125">source</a></section></article><h3 id="Bank-Marketing-Dataset"><a class="docs-heading-anchor" href="#Bank-Marketing-Dataset">Bank Marketing Dataset</a><a id="Bank-Marketing-Dataset-1"></a><a class="docs-heading-anchor-permalink" href="#Bank-Marketing-Dataset" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_bank_marketing" href="#Fairness.@load_bank_marketing"><code>Fairness.@load_bank_marketing</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>The data is related with direct marketing campaigns of a Portuguese banking institution. The marketing campaigns were based on phone calls. Often, more than one contact to the same client was required, in order to access if the product (bank term deposit) would be (&#39;yes&#39;) or not (&#39;no&#39;) subscribed. It has 20 features and 41188 rows. The protected attributes is marital.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL163-L168">source</a></section></article><h3 id="Communities-and-Crime-Dataset"><a class="docs-heading-anchor" href="#Communities-and-Crime-Dataset">Communities and Crime Dataset</a><a id="Communities-and-Crime-Dataset-1"></a><a class="docs-heading-anchor-permalink" href="#Communities-and-Crime-Dataset" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_communities_crime" href="#Fairness.@load_communities_crime"><code>Fairness.@load_communities_crime</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>The per capita violent crimes variable was calculated using population and the sum of crime variables considered violent crimes in the United States: murder, rape, robbery, and assault. It has 127 features and 1994 rows. The protected attributes are ....?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL195-L199">source</a></section></article><h3 id="Student-Performance-Dataset"><a class="docs-heading-anchor" href="#Student-Performance-Dataset">Student Performance Dataset</a><a id="Student-Performance-Dataset-1"></a><a class="docs-heading-anchor-permalink" href="#Student-Performance-Dataset" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_student_performance" href="#Fairness.@load_student_performance"><code>Fairness.@load_student_performance</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Student Performance Dataset. It has 395 rows and 30 features. The target attribute corresponds to grade G1. The target tells whether the student gets grade &gt;= 12. The protected attribute is sex.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL215-L219">source</a></section></article><h2 id="Synthetic-Datasets"><a class="docs-heading-anchor" href="#Synthetic-Datasets">Synthetic Datasets</a><a id="Synthetic-Datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Synthetic-Datasets" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Fairness.genZafarData" href="#Fairness.genZafarData"><code>Fairness.genZafarData</code></a> — <span class="docstring-category">Function</span></header><section><div><p>genZafarData(n = 10000; d = pi/4)</p><p>Generate synthetic data from Zafar et al., 2017 Fairness Constraints: Mechanisms for Fair Classification.</p><p><strong>Arguments</strong></p><ul><li><code>n=10000</code> : number of samples</li><li><code>d=pi/4</code> : discrimination factor</li></ul><p><strong>Returns</strong></p><ul><li><code>X</code> : DataFrame containing features and protected attribute z {&quot;A&quot;, &quot;B&quot;} where       z=&quot;B&quot; is the protected group.</li><li><code>y</code> : Binary Target variable {-1, 1}</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/synthetic.jl#LL18-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Fairness.genSubgroupData" href="#Fairness.genSubgroupData"><code>Fairness.genSubgroupData</code></a> — <span class="docstring-category">Function</span></header><section><div><p>genSubgroupData(n=10000, setting=&quot;B00&quot;)</p><p>Generate synthetic data from Loh et al., 2019 : Subgroup identification for precision medicine: A comparative review of 13 methods</p><p><strong>Arguments</strong></p><ul><li><code>n=10000</code> : number of samples</li><li><code>setting=&quot;B00&quot;</code> : Simulation data setting: one of &quot;B00&quot;, ..., &quot;B02&quot;, &quot;B1&quot;, ... , &quot;B8&quot;</li></ul><p>For &quot;B00&quot;, ..., &quot;B02&quot; there is no &quot;bias&quot; in the data, i.e. group membership has no effect on y. whereas for  &quot;B1&quot;, ... , &quot;B8&quot;, there is a direct effect of group membership z on y, usually mediated by one or more features.</p><p><strong>Returns</strong></p><ul><li><code>X</code> : DataFrame containing features and protected attribute z</li><li><code>y</code> : Binary target variable</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/synthetic.jl#LL106-L118">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Fairness.genZafarData2" href="#Fairness.genZafarData2"><code>Fairness.genZafarData2</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Generate synthetic data from Zafar et al., 2017 Fairness Beyond Disparate Treatment &amp; Disparate Impact</p><p><strong>Arguments</strong></p><ul><li><code>n=10000</code> : number of samples</li></ul><p><strong>Returns</strong></p><ul><li><code>X</code> : DataFrame containing features and protected attribute z</li><li><code>y</code> : Binary Target variable</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/synthetic.jl#LL68-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Fairness.genBiasedSampleData" href="#Fairness.genBiasedSampleData"><code>Fairness.genBiasedSampleData</code></a> — <span class="docstring-category">Function</span></header><section><div><p>genBiasedSampleData(n=10000, sampling_bias=0.8)</p><p>Generate synthetic data: Biased sample</p><p><strong>Arguments</strong></p><ul><li><code>n=10000</code> : number of samples</li><li><code>sampling_bias=0.8</code> : Percentage of data belonging to majority group.</li></ul><p>The idea behind this simulation is that algorithms might fit the process in the majority group while disregarding the process in the minority group.</p><p>Two different processes for d1 and d2: d1: logit(y) = 0.5<em>(    X1 + X2 + 0.3</em>X4) + 2<em>(I(X3 &gt; 0)) d2: logit(y) = 0.5</em>(0.3<em>X1 + X2 +     X4) + 2</em>(I(X3 &gt; 0.2))</p><p><strong>Returns</strong></p><ul><li><code>X</code> : DataFrame containing features and protected attribute z</li><li><code>y</code> : Binary Target variable</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/synthetic.jl#LL195-L214">source</a></section></article><h2 id="Inspecting-Datasets"><a class="docs-heading-anchor" href="#Inspecting-Datasets">Inspecting Datasets</a><a id="Inspecting-Datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Inspecting-Datasets" title="Permalink"></a></h2><p>To see the columns in dataset, their types and scientific types, you can use <code>schema</code> from MLJ.</p><pre><code class="language-julia-repl">julia&gt; using Fairness, MLJ

julia&gt; X, y = @load_adult;

julia&gt; schema(X)
┌────────────────┬──────────────────────────────────┬────────────────┐
│ _.names        │ _.types                          │ _.scitypes     │
├────────────────┼──────────────────────────────────┼────────────────┤
│ age            │ Float64                          │ Continuous     │
│ workclass      │ CategoricalValue{String, UInt32} │ Multiclass{9}  │
│ fnlwgt         │ Float64                          │ Continuous     │
│ education      │ CategoricalValue{String, UInt32} │ Multiclass{16} │
│ education_num  │ Float64                          │ Continuous     │
│ marital_status │ CategoricalValue{String, UInt32} │ Multiclass{7}  │
│ occupation     │ CategoricalValue{String, UInt32} │ Multiclass{15} │
│ relationship   │ CategoricalValue{String, UInt32} │ Multiclass{6}  │
│ race           │ CategoricalValue{String, UInt32} │ Multiclass{5}  │
│ sex            │ CategoricalValue{String, UInt32} │ Multiclass{2}  │
│ capital_gain   │ Float64                          │ Continuous     │
│ capital_loss   │ Float64                          │ Continuous     │
│ hours_per_week │ Float64                          │ Continuous     │
│ native_country │ CategoricalValue{String, UInt32} │ Multiclass{42} │
└────────────────┴──────────────────────────────────┴────────────────┘
_.nrows = 32561</code></pre><h2 id="Toy-Data"><a class="docs-heading-anchor" href="#Toy-Data">Toy Data</a><a id="Toy-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Toy-Data" title="Permalink"></a></h2><p>This is a 10 row dataset that was used by authors of Reweighing Algorithm. This dataset is intended to test ideas and evaluate metrics without calculating predictions. It is different from other macros as it returns (X, y, ŷ) instead of (X, y)</p><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_toydata" href="#Fairness.@load_toydata"><code>Fairness.@load_toydata</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Macro to read csv file of job data (data/jobs.csv) and convert columns to categorical. Returns the tuple (X, y, ŷ)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Fairness.@load_toyfairtensor" href="#Fairness.@load_toyfairtensor"><code>Fairness.@load_toyfairtensor</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Macro to create fairness Tensor for data/jobs.csv The fairness tensor will be created on the basis of the column Job Type. This column has 3 different values for job types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL45-L50">source</a></section></article><pre><code class="language-julia-repl">julia&gt; X, y, ŷ = @load_toydata;

julia&gt; ft = @load_toyfairtensor
Fairness.FairTensor{3}([2 2; 0 0; 0 2]

[0 0; 2 1; 1 0], [&quot;Board&quot;, &quot;Education&quot;, &quot;Healthcare&quot;])</code></pre><h2 id="Other-Datasets"><a class="docs-heading-anchor" href="#Other-Datasets">Other Datasets</a><a id="Other-Datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Other-Datasets" title="Permalink"></a></h2><p>You can try working with the vast range of datasets available through OpenML. Refer <a href="https://alan-turing-institute.github.io/MLJ.jl/v0.9/openml_integration/">MLJ&#39;s OpenML documentation</a> for the OpenML API. The id to be passed to OpenML.load can be found through <a href="https://www.openml.org/search?type=data">OpenML site</a></p><pre><code class="language-julia-repl">julia&gt; using MLJ, Fairness

julia&gt; using DataFrames

julia&gt; data = OpenML.load(1480); # load Indian Liver Patient Dataset

julia&gt; df = DataFrame(data) ;

julia&gt; y, X = unpack(df, ==(:Class), name-&gt;true); # Unpack the data into features and target

julia&gt; y = coerce(y, Multiclass); # Specifies that the target y is of type Multiclass. It is othewise a string.

julia&gt; coerce!(X, :V2 =&gt; Multiclass, Count =&gt; Continuous); # Specifying which columns are Multiclass in nature. Converting from Count to Continuous enables use of more models.</code></pre><h2 id="Helper-Functions"><a class="docs-heading-anchor" href="#Helper-Functions">Helper Functions</a><a id="Helper-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Helper-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Fairness.ensure_download" href="#Fairness.ensure_download"><code>Fairness.ensure_download</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Checks whether the dataset is already present in data directory. Downloads it if not present.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/datasets.jl#LL21-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Fairness.genGaussian" href="#Fairness.genGaussian"><code>Fairness.genGaussian</code></a> — <span class="docstring-category">Function</span></header><section><div><p>genGaussian(mean<em>in, cov</em>in, class_label, n)</p><p>Draw from a gaussian distribution</p><p><strong>Arguments</strong></p><ul><li><code>mean_in</code> : means</li><li><code>cov_in</code> : covariances</li><li><code>class_label</code> : class_label</li><li><code>n</code> : number of samples to draw</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/synthetic.jl#LL1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Fairness.logit_fun" href="#Fairness.logit_fun"><code>Fairness.logit_fun</code></a> — <span class="docstring-category">Function</span></header><section><div><p>logit_fun(X, z, setting)</p><p>Compute y from X and z according to a setting provided in Loh et al., 2019: Subgroup identification for precision medicine: A comparative review of 13 methods</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : matrix of features</li><li><code>z</code> : vector of group assignments</li><li><code>setting</code> : Simulation data setting: one of &quot;B00&quot;, ..., &quot;B02&quot;, &quot;B1&quot;, ... , &quot;B8&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/Fairness.jl/blob/63b19d58828c30acf8b891b14c2f87646d9cf275/src/datasets/synthetic.jl#LL155-L163">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../algorithms/">« Fairness Algortihms</a><a class="docs-footer-nextpage" href="../benchmark/">Benchmark »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 28 June 2021 13:45">Monday 28 June 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
